pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
-- tables2: more on tables
-- by apa64 from picogamedevzine1

function _init()
  enemies={}
  for i=1,20 do
    make_enemy(rnd(128),rnd(128))
  end
end

function _update()
  foreach(enemies,update_enemy)
end

function _draw()
  cls()
  --foreach(enemies,draw_enemy)
  -- same as above:
  for e in all(enemies) do
    draw_enemy(e)
  end
end

-- creates new enemy
function make_enemy(x,y)
  local e={}
  e.x=x
  e.y=y
  e.spr=1
  add(enemies,e)
end

-- moves randomly, del if out
function update_enemy(e)
  e.x+=rnd(2)-1
  e.y+=rnd(2)-1
  if(e.x<0 or e.x>119
    or e.y<0 or e.y>119) then
    del(enemies,e)
  end
end

function draw_enemy(e)
  spr(e.spr,e.x,e.y)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000080000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700088008800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000a00a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000cccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
-- 7.1 iterators and closures
-- by apa64 from programming in lua

-- closure factory
function list_iter(t)
  local i=0
  local n=#t
	 -- iterator closure has locals
  return function()
    i += 1
    if (i <= n) then return t[i] end
  end
end

t={10,20,30}
-- for calls the iterator factory
for e in list_iter(t) do print(e) end
print("")
t={5,4,3,2,1}
for e in list_iter(t) do print(e) end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
